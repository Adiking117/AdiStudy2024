CREATE DATABASE payroll;

USE payroll;

CREATE TABLE emp(
    empno INTEGER NOT NULL,
    ename VARCHAR(10),
    job VARCHAR(9),
    mgr INTEGER,
    hiredate DATE,
    sal REAL,
    comm REAL,
    deptno INTEGER
);

BEGIN TRANSACTION
INSERT INTO EMP VALUES
    (7369, 'SMITH',  'CLERK',     7902,
    '1980-12-17',  800, NULL, 20);
INSERT INTO EMP VALUES
    (7499, 'ALLEN',  'SALESMAN',  7698,
    '1981-02-20', 1600,  300, 30);
INSERT INTO EMP VALUES
    (7521, 'WARD',   'SALESMAN',  7698,
    '1981-02-22', 1250,  500, 30);
INSERT INTO EMP VALUES
    (7566, 'JONES',  'MANAGER',   7839,
    '1981-04-02',  2975, NULL, 20);
INSERT INTO EMP VALUES
    (7654, 'MARTIN', 'SALESMAN',  7698,
    '1981-10-28', 1250, 1400, 30);
INSERT INTO EMP VALUES
    (7698, 'BLAKE',  'MANAGER',   7839,
    '1981-05-01',  2850, NULL, 30);
INSERT INTO EMP VALUES
    (7782, 'CLARK',  'MANAGER',   7839,
    '1981-06-09',  2450, NULL, 10);
INSERT INTO EMP VALUES
    (7788, 'SCOTT',  'ANALYST',   7566,
    '1982-12-09', 3000, NULL, 20);
INSERT INTO EMP VALUES
    (7839, 'KING',   'PRESIDENT', NULL,
    '1981-11-17', 5000, NULL, 10);
INSERT INTO EMP VALUES
    (7844, 'TURNER', 'SALESMAN',  7698,
    '1981-10-08',  1500,    0, 30);
INSERT INTO EMP VALUES
    (7876, 'ADAMS',  'CLERK',     7788,
    '1983-01-12', 1100, NULL, 20);
INSERT INTO EMP VALUES
    (7900, 'JAMES',  'CLERK',     7698,
    '1981-02-20',   950, NULL, 30);
INSERT INTO EMP VALUES
    (7902, 'FORD',   'ANALYST',   7566,
    '1981-12-03',  3000, NULL, 20);
INSERT INTO EMP VALUES
    (7934, 'MILLER', 'CLERK',     7782,
    '1982-01-23', 1300, NULL, 10);

commit;

CREATE TABLE DEPT
   (DEPTNO INTEGER,
    DNAME VARCHAR(14),
    LOC VARCHAR(13) );

BEGIN TRANSACTION
INSERT INTO DEPT VALUES (10, 'ACCOUNTING', 'NEW YORK');
INSERT INTO DEPT VALUES (20, 'RESEARCH',   'DALLAS');
INSERT INTO DEPT VALUES (30, 'SALES',      'CHICAGO');
INSERT INTO DEPT VALUES (40, 'OPERATIONS', 'BOSTON');   
COMMIT;

SELECT * FROM dept;


USE PAYROLL;

CREATE TABLE DEPARTMENT(
    DEPTNO INTEGER NOT NULL,
    DNAME VARCHAR(14) NOT NULL,
    LOC VARCHAR(13) NOT NULL,
    CONSTRAINT PK_DEPARTMENT_DEPTNO PRIMARY KEY(DEPTNO)
);

CREATE TABLE EMPLPOYEE(
    empno INTEGER NOT NULL,
    ename VARCHAR(10) NOT NULL,
    job VARCHAR(9) NOT NULL,
    mgr INTEGER NOT NULL,
    hiredate DATE NOT NULL,
    sal INT NOT NULL,
    comm INT NOT NULL,
    deptno INTEGER NOT NULL,
    CONSTRAINT PK_EMPLOYEE_EMPNO PRIMARY KEY (EMPNO),
    CONSTRAINT FK_EMPLOYEE_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPARTMENT (DEPTNO),
    CONSTRAINT CK_EMPLOYEE_SALARY CHECK (SAL > 0)
);
